<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Голосование за лучшего футболиста</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .players {
            display: flex;
            justify-content: space-around;
            margin: 40px 0;
        }
        .player {
            border: 2px solid #ccc;
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.3s;
            text-align: center;
        }
        .player:hover {
            border-color: #00FF00;
        }
        .player img {
            width: 300px;
            height: auto;
            border-radius: 10px;
        }
        .buttons {
            text-align: center;
            margin: 20px 0;
        }
        button {
            padding: 10px 20px;
            margin: 0 10px;
            cursor: pointer;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #006400;
            color: white;
        }
    </style>
</head>
<body>
    <h1>Кто лучший футболист?</h1>
    <div class="players">
        <div class="player" id="player1" onclick="vote(1)"></div>
        <div class="player" id="player2" onclick="vote(2)"></div>
    </div>
    <div class="buttons">
        <button onclick="vote(0)">Ничья</button>
    </div>
    <h2>Таблица результатов</h2>
    <table id="results">
        <thead>
            <tr>
                <th>Игрок</th>
                <th>Очки</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        // players
        let players = [
            { id: 1, name: 'Андрей Аршавин', img: 'players/Андрей Аршавин.jpg', score: 0 },
	    { id: 2, name: 'Игорь Акинфеев', img: 'players/Игорь Акинфеев.jpg', score: 0 },
	    { id: 3, name: 'Юрий Жирков', img: 'players/Юрий Жирков.jpg', score: 0 },
	    { id: 4, name: 'Дмитрий Аленичев', img: 'players/Дмитрий Аленичев.jpg', score: 0 },
	    { id: 5, name: 'Сергей Семак', img: 'players/Сергей Семак.jpg', score: 0 },
	    { id: 6, name: 'Алексей Смертин', img: 'players/Алексей Смертин.jpg', score: 0 },
	    { id: 7, name: 'Андрей Канчельскис', img: 'players/Андрей Канчельскис.jpg', score: 0 },
	    { id: 8, name: 'Александр Кержаков', img: 'players/Александр Кержаков.jpg', score: 0 },
	    { id: 9, name: 'Сергей Игнашевич', img: 'players/Сергей Игнашевич.jpg', score: 0 },
	    { id: 10, name: 'Валерий Карпин', img: 'players/Валерий Карпин.jpg', score: 0 },
	    { id: 11, name: 'Дмитрий Лоськов', img: 'players/Дмитрий Лоськов.jpg', score: 0 },
	    { id: 12, name: 'Роман Павлюченко', img: 'players/Роман Павлюченко.jpg', score: 0 },
	    { id: 13, name: 'Андрей Тихонов', img: 'players/Андрей Тихонов.jpg', score: 0 },
	    { id: 14, name: 'Василий Березуцкий', img: 'players/Василий Березуцкий.jpg', score: 0 },
	    { id: 15, name: 'Александр Головин', img: 'players/Александр Головин.jpg', score: 0 },
	    { id: 16, name: 'Павел Погребняк', img: 'players/Павел Погребняк.jpg', score: 0 },
	    { id: 17, name: 'Сергей Овчинников', img: 'players/Сергей Овчинников.jpg', score: 0 },
	    { id: 18, name: 'Константин Зырянов', img: 'players/Константин Зырянов.jpg', score: 0 },
	    { id: 19, name: 'Вячеслав Малафеев', img: 'players/Вячеслав Малафеев.jpg', score: 0 },
	    { id: 20, name: 'Виктор Онопко', img: 'players/Виктор Онопко.jpg', score: 0 },
	    { id: 21, name: 'Владимир Бесчастных', img: 'players/Владимир Бесчастных.jpg', score: 0 },
	    { id: 22, name: 'Денис Черышев', img: 'players/Денис Черышев.jpg', score: 0 },
	    { id: 23, name: 'Игорь Денисов', img: 'players/Игорь Денисов.jpg', score: 0 },
	    { id: 24, name: 'Егор Титов', img: 'players/Егор Титов.jpg', score: 0 },
	    { id: 25, name: 'Алексей Миранчук', img: 'players/Алексей Миранчук.jpg', score: 0 },
	    { id: 26, name: 'Дмитрий Сычев', img: 'players/Дмитрий Сычев.jpg', score: 0 },
	    { id: 27, name: 'Олег Веретенников', img: 'players/Олег Веретенников.jpg', score: 0 },
	    { id: 28, name: 'Ролан Гусев', img: 'players/Ролан Гусев.jpg', score: 0 },
	    { id: 29, name: 'Артём Дзюба', img: 'players/Артём Дзюба.jpg', score: 0 },
	    { id: 30, name: 'Денис Колодин', img: 'players/Денис Колодин.jpg', score: 0 },
	    { id: 31, name: 'Александр Мостовой', img: 'players/Александр Мостовой.jpg', score: 0 },
	    { id: 32, name: 'Динияр Билялетдинов', img: 'players/Динияр Билялетдинов.jpg', score: 0 },
	    { id: 33, name: 'Александр Анюков', img: 'players/Александр Анюков.jpg', score: 0 },
	    { id: 34, name: 'Марат Измайлов', img: 'players/Марат Измайлов.jpg', score: 0 },
	    { id: 35, name: 'Дмитрий Булыкин', img: 'players/Дмитрий Булыкин.jpg', score: 0 },
	    { id: 36, name: 'Матвей Сафонов', img: 'players/Матвей Сафонов.jpg', score: 0 },
	    { id: 37, name: 'Олег Саленко', img: 'players/Олег Саленко.jpg', score: 0 },
	    { id: 38, name: 'Гильерме', img: 'players/Гильерме.jpg', score: 0 },
	    { id: 39, name: 'Владимир Быстров', img: 'players/Владимир Быстров.jpg', score: 0 },
	    { id: 40, name: 'Алан Дзагоев', img: 'players/Алан Дзагоев.jpg', score: 0 },
	    { id: 41, name: 'Илья Цымбаларь', img: 'players/Илья Цымбаларь.jpg', score: 0 },
	    { id: 42, name: 'Роман Широков', img: 'players/Роман Широков.jpg', score: 0 },
	    { id: 43, name: 'Вадим Евсеев', img: 'players/Вадим Евсеев.jpg', score: 0 },
	    { id: 44, name: 'Алексей Березуцкий', img: 'players/Алексей Березуцкий.jpg', score: 0 },
	    { id: 45, name: 'Дмитрий Хохлов', img: 'players/Дмитрий Хохлов.jpg', score: 0 },
	    { id: 46, name: 'Игорь Шалимов', img: 'players/Игорь Шалимов.jpg', score: 0 },
	    { id: 47, name: 'Дмитрий Харин', img: 'players/Дмитрий Харин.jpg', score: 0 },
	    { id: 48, name: 'Дмитрий Ананко', img: 'players/Дмитрий Ананко.jpg', score: 0 },
	    { id: 49, name: 'Фёдор Черенков', img: 'players/Фёдор Черенков.jpg', score: 0 },
	    { id: 50, name: 'Дмитрий Кириченко', img: 'players/Дмитрий Кириченко.jpg', score: 0 },
	    { id: 51, name: 'Руслан Нигматуллин', img: 'players/Руслан Нигматуллин.jpg', score: 0 },
	    { id: 52, name: 'Сергей Рыжиков', img: 'players/Сергей Рыжиков.jpg', score: 0 },
	    { id: 53, name: 'Дмитрий Сенников', img: 'players/Дмитрий Сенников.jpg', score: 0 },
	    { id: 54, name: 'Георгий Щенников', img: 'players/Георгий Щенников.jpg', score: 0 },
	    { id: 55, name: 'Александр Ерохин', img: 'players/Александр Ерохин.jpg', score: 0 },
	    { id: 56, name: 'Денис Бояринцев', img: 'players/Денис Бояринцев.jpg', score: 0 },
	    { id: 57, name: 'Владислав Радимов', img: 'players/Владислав Радимов.jpg', score: 0 },
	    { id: 58, name: 'Игорь Семшов', img: 'players/Игорь Семшов.jpg', score: 0 },
	    { id: 59, name: 'Игорь Колыванов', img: 'players/Игорь Колыванов.jpg', score: 0 },
	    { id: 60, name: 'Далер Кузяев', img: 'players/Далер Кузяев.jpg', score: 0 },
	    { id: 61, name: 'Денис Глушаков', img: 'players/Денис Глушаков.jpg', score: 0 },
	    { id: 62, name: 'Дмитрий Баринов', img: 'players/Дмитрий Баринов.jpg', score: 0 },
	    { id: 63, name: 'Андрей Лунёв', img: 'players/Андрей Лунёв.jpg', score: 0 },
	    { id: 64, name: 'Александр Бухаров', img: 'players/Александр Бухаров.jpg', score: 0 },
	    { id: 65, name: 'Геннадий Нижегородов', img: 'players/Геннадий Нижегородов.jpg', score: 0 },
	    { id: 66, name: 'Игорь Корнеев', img: 'players/Игорь Корнеев.jpg', score: 0 },
	    { id: 67, name: 'Роман Зобнин', img: 'players/Роман Зобнин.jpg', score: 0 },
	    { id: 68, name: 'Александр Кокорин', img: 'players/Александр Кокорин.jpg', score: 0 },
	    { id: 69, name: 'Юрий Дроздов', img: 'players/Юрий Дроздов.jpg', score: 0 },
	    { id: 70, name: 'Александр Ширко', img: 'players/Александр Ширко.jpg', score: 0 },
	    { id: 71, name: 'Дмитрий Комбаров', img: 'players/Дмитрий Комбаров.jpg', score: 0 },
	    { id: 72, name: 'Владимир Бут', img: 'players/Владимир Бут.jpg', score: 0 },
	    { id: 73, name: 'Владимир Кульков', img: 'players/Владимир Кульков.jpg', score: 0 },
	    { id: 74, name: 'Марио Фернандес', img: 'players/Марио Фернандес.jpg', score: 0 },
	    { id: 75, name: 'Евгений Алдонин', img: 'players/Евгений Алдонин.jpg', score: 0 },
	    { id: 76, name: 'Антон Шунин', img: 'players/Антон Шунин.jpg', score: 0 },
	    { id: 77, name: 'Станислав Черчесов', img: 'players/Станислав Черчесов.jpg', score: 0 },
	    { id: 78, name: 'Виктор Файзулин', img: 'players/Виктор Файзулин.jpg', score: 0 },
	    { id: 79, name: 'Игорь Яновский', img: 'players/Игорь Яновский.jpg', score: 0 },
	    { id: 80, name: 'Руслан Пименов', img: 'players/Руслан Пименов.jpg', score: 0 },
	    { id: 81, name: 'Валерий Минько', img: 'players/Валерий Минько.jpg', score: 0 },
	    { id: 82, name: 'Пётр Быстров', img: 'players/Пётр Быстров.jpg', score: 0 },
	    { id: 83, name: 'Александр Панов', img: 'players/Александр Панов.jpg', score: 0 },
	    { id: 84, name: 'Сергей Юран', img: 'players/Сергей Юран.jpg', score: 0 },
	    { id: 85, name: 'Александр Самедов', img: 'players/Александр Самедов.jpg', score: 0 },
	    { id: 86, name: 'Андрей Каряка', img: 'players/Андрей Каряка.jpg', score: 0 },
	    { id: 87, name: 'Александр Рязанцев', img: 'players/Александр Рязанцев.jpg', score: 0 },
	    { id: 88, name: 'Игорь Смольников', img: 'players/Игорь Смольников.jpg', score: 0 },
	    { id: 89, name: 'Игорь Добровольский', img: 'players/Игорь Добровольский.jpg', score: 0 },
	    { id: 90, name: 'Артём Ребров', img: 'players/Артём Ребров.jpg', score: 0 },
	    { id: 91, name: 'Ари', img: 'players/Ари.jpg', score: 0 },
	    { id: 92, name: 'Юрий Никифоров', img: 'players/Юрий Никифоров.jpg', score: 0 },
	    { id: 93, name: 'Валерий Есипов', img: 'players/Валерий Есипов.jpg', score: 0 },
	    { id: 94, name: 'Кирилл Набабкин', img: 'players/Кирилл Набабкин.jpg', score: 0 },
	    { id: 95, name: 'Максим Бузникин', img: 'players/Максим Бузникин.jpg', score: 0 },
	    { id: 96, name: 'Александр Филимонов', img: 'players/Александр Филимонов.jpg', score: 0 },
	    { id: 97, name: 'Роман Шаронов', img: 'players/Роман Шаронов.jpg', score: 0 },
	    { id: 98, name: 'Александр Точилин', img: 'players/Александр Точилин.jpg', score: 0 },
	    { id: 99, name: 'Дмитрий Бородин', img: 'players/Дмитрий Бородин.jpg', score: 0 },
	    { id: 100, name: 'Георгий Джикия', img: 'players/Георгий Джикия.jpg', score: 0 },
        ];

        let usedPairs = JSON.parse(localStorage.getItem('usedPairs')) || {};
        let currentPair = null;

        function getRandomPair() {
            const availablePlayers = [...players];

            if (Object.keys(usedPairs).length >= players.length * (players.length - 1) / 2) {
                alert('Все возможные пары были показаны!');
                return;
            }

            const aIndex = Math.floor(Math.random() * availablePlayers.length);
            const a = availablePlayers[aIndex].id;
            availablePlayers.splice(aIndex, 1);

            const availableForB = availablePlayers.filter(p =>
                !usedPairs[`${a}-${p.id}`] && !usedPairs[`${p.id}-${a}`]
            );

            if (availableForB.length === 0) {
                getRandomPair();
                return;
            }

            const bIndex = Math.floor(Math.random() * availableForB.length);
            const b = availableForB[bIndex].id;

            currentPair = { a, b };
            usedPairs[`${a}-${b}`] = true;
            localStorage.setItem('usedPairs', JSON.stringify(usedPairs));

            const playerA = players.find(p => p.id === a);
            const playerB = players.find(p => p.id === b);

            document.getElementById('player1').innerHTML = `
                <img src="${playerA.img}" alt="${playerA.name}"><br>
                <strong>${playerA.name}</strong>
            `;
            document.getElementById('player2').innerHTML = `
                <img src="${playerB.img}" alt="${playerB.name}"><br>
                <strong>${playerB.name}</strong>
            `;
        }

        function vote(result) {
            if (!currentPair) return;

            const playerA = players.find(p => p.id === currentPair.a);
            const playerB = players.find(p => p.id === currentPair.b);

            switch(result) {
                case 1:
                    playerA.score += 3;
                    break;
                case 2:
                    playerB.score += 3;
                    break;
                case 0:
                    playerA.score += 1;
                    playerB.score += 1;
                    break;
            }

            localStorage.setItem('players', JSON.stringify(players));
            updateResults();
            getRandomPair();
        }

        function updateResults() {
            const sorted = [...players].sort((a, b) => b.score - a.score);
            const tbody = document.querySelector('#results tbody');
            tbody.innerHTML = sorted.map(p => `
                <tr>
                    <td>${p.name}</td>
                    <td>${p.score}</td>
                </tr>
            `).join('');
        }

        window.onload = () => {
            getRandomPair();
            updateResults();
        };
    </script>
</body>
</html>
